# configures the API
server:
  ip: 0.0.0.0  # the IP to bind to
  port: 8080  # the port to listen on
  write_key: not-actually-secret  # the write key
  payload_size_limit: 1MiB  # payload size limit on POST event routes
  origins:  # the list of allowed origins (CORS)
    - http://localhost:8082

# configures the worker which forwards events to destinations
forwarder:
  beanstalk: beanstalkd:11300  # where to find beanstalkd
  schedule: "* * * * * * *"  # the CRON at which forwarding happens
                             # (supports seconds, see `cron` crate)

# configures the destinations
destinations:
  - type: blackhole  # logs and drops all events
  - type: clickhouse  # send to clickhouse
    host: clickhouse
    user: myuser
    password: mypassword
    database: mydatabase
    cache_threshold: 1
